repos:
    # Check for conventional commit messages
    - repo: https://github.com/compilerla/conventional-pre-commit
      rev: v4.4.0
      hooks:
          - id: conventional-pre-commit
            stages: [commit-msg]
            args: []

    # General file checks
    - repo: https://github.com/pre-commit/pre-commit-hooks
      rev: v6.0.0
      hooks:
          - id: trailing-whitespace
          - id: end-of-file-fixer
          - id: check-yaml
          - id: check-added-large-files
            args: ["--maxkb=500"]
          - id: mixed-line-ending
            args: ["--fix=lf"]
          - id: check-merge-conflict
          - id: check-json
          - id: check-toml
          - id: debug-statements
          - id: detect-private-key

    # Python code formatting with Black
    - repo: https://github.com/psf/black
      rev: 26.1.0
      hooks:
          - id: black
            language_version: python3
            args: ["--line-length=88"]

    # Import sorting with isort
    - repo: https://github.com/pycqa/isort
      rev: 8.0.0
      hooks:
          - id: isort
            args: ["--profile=black"]

    # Django-specific checks
    - repo: https://github.com/adamchainz/django-upgrade
      rev: "1.29.1"
      hooks:
          - id: django-upgrade
            args: ["--target-version=6.0"]

    # Type checking with mypy (mirrors-mypy + project deps so Django plugin can load settings)
    - repo: https://github.com/pre-commit/mirrors-mypy
      rev: v1.13.0
      hooks:
          - id: mypy
            additional_dependencies:
              - django-stubs[django]==5.2.9
              - Django==6.0
              - dj-database-url==2.3.0
              - django-allauth==65.13.1
              - django-cors-headers==4.9.0
              - django-crispy-forms==2.5
              - crispy-bootstrap5==2025.6
              - djangorestframework==3.16.1
              - celery==5.6.2
              - django-redis==6.0.0
              - psycopg2-binary==2.9.11
              - reportlab==4.4.9
              - matplotlib==3.10.1
            args: [--config-file=pyproject.toml, .]
            pass_filenames: false

    # Security checks with bandit
    - repo: https://github.com/PyCQA/bandit
      rev: "1.9.3"
      hooks:
          - id: bandit
            args: ["-c", "pyproject.toml"]
            additional_dependencies: ["bandit[toml]"]

    # Search for problematic terms in the text
    - repo: https://github.com/codespell-project/codespell
      rev: v2.4.1
      hooks:
          - id: codespell
            args: ["--ignore-words=.codespellignore"]
            files: '\.(md|py|html)$'

    # Optional: Lint Markdown files if you have any
    - repo: https://github.com/igorshubovych/markdownlint-cli
      rev: v0.47.0
      hooks:
          - id: markdownlint
            args: ["--config", ".markdownlint.yaml"]
            files: '\.(md)$'
